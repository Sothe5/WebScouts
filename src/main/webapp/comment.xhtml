<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <link rel="stylesheet" type="text/css" href="./resources/css/common.css"/>
        <link rel="stylesheet" type="text/css" href="./resources/css/comment.css"/>

    </h:head>
    <h:body>
        <ui:composition>
            <h2>Comentarios</h2>
            <ui:repeat value="#{eventPage.event.comments}" var="comment">
                <ui:fragment rendered="${empty comment.target}">
                    <div class="comment-wrapper">
                    <div>
                        <img class="avatar" src="./resources/images/default-avatar.png" alt="user"/>
                        <h5 class="user-name">
                            <h:outputText value="#{comment.user.user_name}"/>
                        </h5>
                    </div>
                    <p>
                        <h:outputText value="#{comment.message}"/>
                    </p>
                    <a href="#" class="reply-button">Contestar</a>
                    <span class="date">
                        <h:outputText value="#{comment.commentDateFormatted}"/>
                    </span>
                        <ui:repeat value="#{comment.responses}" var="reply">
                            <div class="comment-wrapper">
                            <div>
                                <img class="avatar" src="./resources/images/default-avatar.png" alt="user"/>
                                <h5 class="user-name">
                                    <h:outputText value="#{reply.user.user_name}"/>
                                </h5>
                            </div>
                            <p>
                                <h:outputText value="#{reply.message}"/>
                            </p>
                            <a href="#" class="reply-button">Contestar</a>
                            <span class="date">
                                <h:outputText value="#{reply.commentDateFormatted}"/>
                            </span>
                            </div>
                        </ui:repeat>
                    </div>
                </ui:fragment>
            </ui:repeat>
        </ui:composition>
    </h:body>
</html>

